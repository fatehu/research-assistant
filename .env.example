# ===========================================
# 数据库配置
# ===========================================
POSTGRES_USER=research_user
POSTGRES_PASSWORD=research_password_123
POSTGRES_DB=research_assistant
DATABASE_URL=postgresql://research_user:research_password_123@postgres:5432/research_assistant

# ===========================================
# Redis 配置
# ===========================================
REDIS_URL=redis://redis:6379/0

# ===========================================
# JWT 配置
# ===========================================
SECRET_KEY=your-super-secret-key-change-this-in-production-min-32-chars
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# ===========================================
# LLM 配置 - 多厂商支持
# ===========================================
# 默认使用的 LLM 提供商: deepseek, openai, aliyun, ollama
DEFAULT_LLM_PROVIDER=deepseek

# DeepSeek 配置 (默认)
DEEPSEEK_API_KEY=your-deepseek-api-key
DEEPSEEK_BASE_URL=https://api.deepseek.com
DEEPSEEK_MODEL=deepseek-chat

# OpenAI 配置
OPENAI_API_KEY=your-openai-api-key
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4o

# 阿里云通义配置
ALIYUN_API_KEY=your-aliyun-api-key
ALIYUN_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
ALIYUN_MODEL=qwen-plus

# Ollama 本地配置 (阶段7)
OLLAMA_BASE_URL=http://host.docker.internal:11434
OLLAMA_MODEL=llama3

# ===========================================
# 搜索引擎配置 - Serper API (Google 搜索)
# ===========================================
# 获取 API Key: https://serper.dev/
# 每月免费额度: 2500 次搜索
SERPER_API_KEY=your-serper-api-key

# ===========================================
# ReAct Agent 配置
# ===========================================
# 最大迭代次数 (每次迭代包含: 思考 -> 工具调用 -> 观察结果)
# 建议范围: 3-15, 默认: 10
REACT_MAX_ITERATIONS=10

# Agent 推理温度 (0-1, 越高越随机)
REACT_TEMPERATURE=0.7

# 工具输出在前端显示的最大长度（字符数）
REACT_OUTPUT_MAX_LENGTH=500

# ===========================================
# LLM 推理参数
# ===========================================
# LLM 默认温度 (0-1, 越高越随机)
LLM_TEMPERATURE=0.7

# LLM 最大输出 tokens
LLM_MAX_TOKENS=4096

# ===========================================
# 代码执行配置 (CodeLab)
# ===========================================
# 单次代码执行超时（秒）
CODE_EXECUTION_TIMEOUT=30

# 内核空闲超时（秒），超过此时间的不活跃内核将被自动销毁
# 默认 7200 秒 = 2 小时
KERNEL_IDLE_TIMEOUT=7200

# ===========================================
# Notebook 上下文配置
# ===========================================
# 这些参数控制 Agent 获取的 Notebook 上下文范围
# 调整这些值可以平衡上下文信息量和 token 消耗

# Agent 上下文包含的最近 Cell 数量
NOTEBOOK_CONTEXT_CELLS=5

# 单个 Cell 代码预览的最大字符数
NOTEBOOK_CONTEXT_CELL_MAX_LENGTH=200

# Agent 上下文包含的最大变量数量
NOTEBOOK_CONTEXT_VARIABLES=15

# recent_outputs 包含的 Cell 数量
NOTEBOOK_CONTEXT_OUTPUT_CELLS=5

# ===========================================
# Embedding 配置 - 阿里云 text-embedding-v2
# ===========================================
# 阿里云 DashScope 文本嵌入模型
# 获取 API Key: https://dashscope.console.aliyun.com/apiKey
# 模型文档: https://help.aliyun.com/zh/dashscope/developer-reference/text-embedding-api-details
#
# text-embedding-v2 参数：
# - 向量维度: 1536
# - 最大输入长度: 2048 tokens
# - 支持中英文
EMBEDDING_PROVIDER=aliyun
ALIYUN_EMBEDDING_API_KEY=your-aliyun-api-key
ALIYUN_EMBEDDING_MODEL=text-embedding-v2

# ===========================================
# 前端配置
# ===========================================
VITE_API_BASE_URL=http://localhost:8000
VITE_WS_BASE_URL=ws://localhost:8000

# ===========================================
# 应用配置
# ===========================================
APP_NAME=AI科研助手
APP_VERSION=1.0.0
DEBUG=true
